(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,a){e.exports={"cart-items":"Cart_cart-items__1NeKr",total:"Cart_total__1_TY5",actions:"Cart_actions__dyvmD","button--alt":"Cart_button--alt__3R_Rt",button:"Cart_button__-DY7X"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__2Gl2C",summary:"CartItem_summary__AnZYx",price:"CartItem_price__1maYJ",amount:"CartItem_amount__2frAj",actions:"CartItem_actions__cuhMr"}},,function(e,t,a){e.exports={button:"HeaderCartButton_button__26OOT",icon:"HeaderCartButton_icon__1YNRb",badge:"HeaderCartButton_badge__1UO9H",bump:"HeaderCartButton_bump__1I83u"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__3RYwd",modal:"Modal_modal__Ua_3o","slide-down":"Modal_slide-down__1AIF4"}},function(e,t,a){e.exports={meal:"MealItem_meal__29Um_",description:"MealItem_description__1CPI3",price:"MealItem_price__2Xj0c"}},,function(e,t,a){e.exports={header:"Header_header__15eQR","main-image":"Header_main-image__3o-WW"}},function(e,t,a){e.exports={summary:"MealsSummary_summary__3uEVA"}},function(e,t,a){e.exports={meals:"AvailableMeals_meals__1VBgM","meals-appear":"AvailableMeals_meals-appear__2s9Fx"}},function(e,t,a){e.exports={card:"Card_card__3BGEM"}},function(e,t,a){e.exports={input:"Input_input__18ecF"}},function(e,t,a){e.exports={form:"MealItemForm_form__3BgNS"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),i=(a(19),a(1)),s=a.n(i),r=a(6),o=a.n(r),l=a(0);const d=e=>Object(l.jsx)("div",{className:o.a.backdrop,onClick:e.onCloseModal}),m=e=>Object(l.jsx)("div",{className:o.a.modal,children:Object(l.jsx)("div",{className:o.a.content,children:e.children})}),u=document.getElementById("overlays");var j=function(e){return Object(l.jsxs)(s.a.Fragment,{children:[c.a.createPortal(Object(l.jsx)(d,{onCloseModal:e.onCloseModal}),u),c.a.createPortal(Object(l.jsx)(m,{children:e.children}),u)]})},b=a(2),x=a.n(b);var _=s.a.createContext({items:[],totalAmount:0,addItem:e=>{},removeItem:e=>{}}),h=a(3),O=a.n(h);var p=e=>{const t="$".concat(e.price.toFixed(2));return Object(l.jsxs)("li",{className:O.a["cart-item"],children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("div",{className:O.a.summary,children:[Object(l.jsx)("span",{className:O.a.price,children:t}),Object(l.jsxs)("span",{className:O.a.amount,children:["x ",e.amount]})]})]}),Object(l.jsxs)("div",{className:O.a.actions,children:[Object(l.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(l.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})};var f=function(e){const t=Object(i.useContext)(_),a="$".concat(t.totalAmount.toFixed(2)),n=t.items.length>0,c=e=>{t.removeItem(e)},s=e=>{t.addItem({...e,amount:1})},r=Object(l.jsx)("ul",{className:x.a["cart-items"],children:t.items.map((e=>Object(l.jsx)(p,{name:e.name,amount:e.amount,price:e.price,onRemove:c.bind(null,e.id),onAdd:s.bind(null,e)},e.id)))});return Object(l.jsxs)(j,{onCloseModal:e.onHideCart,children:[r,Object(l.jsxs)("div",{className:x.a.total,children:[Object(l.jsx)("span",{children:"Total Amount"}),Object(l.jsx)("span",{children:a})]}),Object(l.jsxs)("div",{className:x.a.actions,children:[Object(l.jsx)("button",{onClick:e.onHideCart,className:x.a["button--alt"],children:"Close"}),n&&Object(l.jsx)("button",{className:x.a.button,children:"Order"})]})]})},v=a(9),C=a.n(v),N=a.p+"static/media/meals.2971f633.jpg",A=a(5),g=a.n(A);var I=()=>Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(l.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})});var M=function(e){const[t,a]=Object(i.useState)(!1),n=Object(i.useContext)(_),{items:c}=n,s=c.reduce(((e,t)=>e+t.amount),0),r="".concat(g.a.button," ").concat(t?g.a.bump:"");return Object(i.useEffect)((()=>{if(0===c.length)return;a(!0);const e=setTimeout((()=>{a(!1)}),300);return()=>{clearTimeout(e)}}),[c]),Object(l.jsxs)("button",{onClick:e.onClick,className:r,children:[Object(l.jsx)("span",{className:g.a.icon,children:Object(l.jsx)(I,{})}),Object(l.jsx)("span",{children:"Your Cart"}),Object(l.jsx)("span",{className:g.a.badge,children:s})]})};var y=function(e){return Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsxs)("header",{className:C.a.header,children:[Object(l.jsx)("h1",{children:"ReactMeals"}),Object(l.jsx)(M,{onClick:e.onShowCart})]}),Object(l.jsx)("div",{className:C.a["main-image"],children:Object(l.jsx)("img",{src:N,alt:"A table full of tasty meals!!"})})]})},w=a(10),H=a.n(w);var k=()=>Object(l.jsxs)("section",{className:H.a.summary,children:[Object(l.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(l.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(l.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]}),R=a(11),F=a.n(R),B=a(12),E=a.n(B);var D=function(e){return Object(l.jsx)("div",{className:E.a.card,children:e.children})},S=a(7),T=a.n(S),Y=a(13),P=a.n(Y);var V=s.a.forwardRef(((e,t)=>Object(l.jsxs)("div",{className:P.a.input,children:[Object(l.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(l.jsx)("input",{ref:t,...e.input})]}))),z=a(14),J=a.n(z);var U=function(e){const[t,a]=Object(i.useState)(!0),n=Object(i.useRef)();return Object(l.jsxs)("form",{className:J.a.form,onSubmit:t=>{t.preventDefault();const c=n.current.value,i=+c;0===c.trim().length||i<1||i>5?a(!1):e.onAddToCart(i)},children:[Object(l.jsx)(V,{ref:n,label:"Amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",defaultValue:"1"}}),Object(l.jsx)("button",{children:"+ Add"}),!t&&Object(l.jsx)("p",{children:"Please enter a valid amount(1-5)."})]})};var $=function(e){var t;const a=Object(i.useContext)(_),n="$".concat(null===(t=e.price)||void 0===t?void 0:t.toFixed(2));return Object(l.jsxs)("li",{className:T.a.meal,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("div",{className:T.a.description,children:e.description}),Object(l.jsx)("div",{className:T.a.price,children:n})]}),Object(l.jsx)("div",{children:Object(l.jsx)(U,{onAddToCart:t=>{a.addItem({id:e.id,name:e.name,amount:t,price:e.price})}})})]})};var G=function(){const[e,t]=Object(i.useState)([]);return Object(i.useEffect)((()=>{(async()=>{const e=await fetch("https://react-meals-c8140-default-rtdb.firebaseio.com/meals.json"),a=await e.json(),n=[];for(const t in a){var c,i,s;n.push({id:t,name:null===(c=a[t])||void 0===c?void 0:c.name,description:null===(i=a[t])||void 0===i?void 0:i.description,price:null===(s=a[t])||void 0===s?void 0:s.price})}t(n)})()}),[]),Object(l.jsx)("section",{className:F.a.meals,children:Object(l.jsx)(D,{children:Object(l.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((e=>Object(l.jsx)($,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)))})})})};var W=function(){return Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsx)(k,{}),Object(l.jsx)(G,{})]})};const X={items:[],totalAmount:0},q=(e,t)=>{if("ADD"===t.identifier){const a=e.totalAmount+t.item.price*t.item.amount,n=e.items.findIndex((e=>e.id===t.item.id)),c=e.items[n];let i;if(c){const a={...c,amount:c.amount+t.item.amount};i=[...e.items],i[n]=a}else i=e.items.concat(t.item);return{items:i,totalAmount:a}}if("REMOVE"===t.identifier){const a=e.items.findIndex((e=>e.id===t.id)),n=e.items[a],c=e.totalAmount-n.price;let i;if(1===n.amount)i=e.items.filter((e=>e.id!==t.id));else{const t={...n,amount:n.amount-1};i=[...e.items],i[a]=t}return{items:i,totalAmount:c}}return X};var K=e=>{const[t,a]=Object(i.useReducer)(q,X),n={items:t.items,totalAmount:t.totalAmount,addItem:e=>{a({identifier:"ADD",item:e})},removeItem:e=>{a({identifier:"REMOVE",id:e})}};return Object(l.jsx)(_.Provider,{value:n,children:e.children})};var Q=function(){const[e,t]=Object(i.useState)(!1);return Object(l.jsxs)(K,{children:[e&&Object(l.jsx)(f,{onHideCart:()=>{t(!1)}}),Object(l.jsx)(y,{onShowCart:()=>{t(!0)}}),Object(l.jsx)("main",{children:Object(l.jsx)(W,{})})]})};c.a.render(Object(l.jsx)(Q,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.193270e4.chunk.js.map